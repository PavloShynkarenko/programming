#include <stdio.h> // підключаємо бібліотеку

int countSequences(int n)
{
   int dp[n + 1];
   dp[0] = 1;
   dp[1] = 2;
   dp[2] = 4;
   // оголошуємо масиви

   for (int i = 3; i <= n; i++)
   {
      dp[i] = (dp[i - 1] + dp[i - 2] + dp[i - 3]) % 12345;
   }
   // утворюємо цикл який знаходить масив dp[i]

   return dp[n]; // повертаємо масив значення dp[n], що відповідає кількості шуканих послідовностей довжиною n
}

int main()
{
   int n;
   // оголошуємо зміну

   printf("Введіть довжину послідовності п (1 < n < 10000): "); // виводимо на екран текст, де просимо ввести довжину послідовності
   scanf("%d", &n); // скануємо введені дані

   if (n > 1 && n < 10000)
   {
      int result = countSequences(n);
      printf("Кількість шуканих послідовностей: %d\n", result);
   }
   else
   {
      printf("Помилка. Введіть правильно число");
   }
   // утворюємо цикл, який перевіряє діапазон, та якщо дані введені не правильно виводить помилку

   return 0; // повертаємо значення 0
}
